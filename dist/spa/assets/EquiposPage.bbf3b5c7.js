import{Q as _}from"./QPage.e3a32904.js";import{r as a,o as g,a as f,aT as n,ab as m,bo as q,cc as w,ae as o,ad as E,aZ as h,F as x}from"./index.fe61ee2b.js";import{u as b}from"./use-quasar.6e3d8175.js";import{T as k}from"./TarjetaEquipo.4e2e1697.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";const P={class:"tabla-tarjetas"},B={__name:"EquiposPage",setup(L){const i=b(),r=a([]),l=a(0),c=a(20),u=a(1),s=a(!1),d=async()=>{if(!s.value){i.loading.show(),s.value=!0;try{const e=await w.get("/equipos.php?pag="+u.value,{withCredentials:!0});e.data.success&&(l.value=e.data.message.total,r.value=[...r.value,...e.data.message.equipos])}catch(e){console.log("Error:",e)}s.value=!1,i.loading.hide()}},p=()=>{const e=window.scrollY+window.innerHeight,t=document.documentElement.scrollHeight;!s.value&&e>=t-10&&c.value<=l.value&&(u.value+=1,c.value+=20,d())};return g(()=>{window.addEventListener("scroll",p),d()}),f(()=>{window.removeEventListener("scroll",p)}),(e,t)=>(n(),m(_,{class:"q-pa-md"},{default:q(()=>[t[0]||(t[0]=o("div",{class:"cabecera"},[o("span",{class:"text-h6"},"Lista de Servicios"),o("span",{class:"text-subtitle2"},"Consulte sus servicios contratados")],-1)),o("div",P,[(n(!0),E(x,null,h(r.value,v=>(n(),m(k,{key:v.tkn,equipo:v},null,8,["equipo"]))),128))])]),_:1}))}};var F=y(B,[["__scopeId","data-v-0196913e"]]);export{F as default};
